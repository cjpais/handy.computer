---
import MainLayout from "../layouts/MainLayout.astro";
import { Image } from "astro:assets";
import platformIcon from "../images/icon.png";
import PlatformSection from "../components/PlatformSection.astro";
import DownloadButton from "../components/DownloadButton.astro";

// Version configuration
const VERSION = "0.1.1";
const VERSION_TAG = `v${VERSION}`;
const GITHUB_RELEASE_BASE = `https://github.com/cjpais/Handy/releases/download/${VERSION_TAG}`;
---

<MainLayout
    title="Download Handy"
    description="Download Handy - the free and open source speech to text application for Windows, macOS, and Linux"
>
    <div class="flex flex-col items-center gap-6 w-full">
        <Image
            src={platformIcon}
            width={512}
            class={"w-64"}
            alt="The handy logo, with a pink rounded circle as the background, with a white cartoon smiling hand shape in the middle."
        />

        <h1>Download Handy</h1>

        <div class="flex flex-col w-64 sm:w-80 gap-6">
            <PlatformSection title="Mac">
                <DownloadButton
                    href={`${GITHUB_RELEASE_BASE}/Handy_${VERSION}_aarch64.dmg`}
                    label="Apple Silicon"
                    extension=".dmg"
                />
            </PlatformSection>

            <PlatformSection title="Windows">
                <DownloadButton
                    href={`${GITHUB_RELEASE_BASE}/Handy_${VERSION}_x64-setup.exe`}
                    label="Windows x64"
                    extension=".exe"
                />
            </PlatformSection>

            <PlatformSection title="Linux (x64)">
                <DownloadButton
                    href={`${GITHUB_RELEASE_BASE}/Handy_${VERSION}_amd64.AppImage`}
                    label="Most Distros"
                    extension=".AppImage"
                />
                <DownloadButton
                    href={`${GITHUB_RELEASE_BASE}/Handy_${VERSION}_amd64.deb`}
                    label="Ubuntu/Debian"
                    extension=".deb"
                />
                <DownloadButton
                    href={`${GITHUB_RELEASE_BASE}/Handy-${VERSION}-1.x86_64.rpm`}
                    label="RHEL/Fedora"
                    extension=".rpm"
                />
            </PlatformSection>
        </div>
    </div>
</MainLayout>
